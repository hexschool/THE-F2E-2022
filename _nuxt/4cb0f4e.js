(window.webpackJsonp=window.webpackJsonp||[]).push([[42,6,15,16],{355:function(t,e,n){"use strict";n.r(e);n(72);var r={name:"Alert",props:{message:{default:function(){return{}},type:Object}},data:function(){return{messages:[]}},watch:{message:function(){this.message.content&&this.addAlert()}},methods:{addAlert:function(){var t=this.message,style=t.style,e=t.icon,content=t.content;this.messages.push({style:style,icon:e,content:content}),this.removeAlert()},removeAlert:function(){var t=this;setTimeout((function(){t.messages.shift()}),6e3)}}},o=n(29),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",t._l(t.messages,(function(n,r){return e("div",{key:r,staticClass:"alert mb-6",class:"alert-".concat(n.style),attrs:{role:"alert"}},[e("p",{staticClass:"mb-0"},[e("i",{staticClass:"pe-1 fas",class:n.icon}),t._v(t._s(n.content))])])})),0)}),[],!1,null,null,null);e.default=component.exports},356:function(t,e,n){t.exports=n.p+"img/week1.8134a1f.png"},357:function(t,e,n){t.exports=n.p+"img/week2.1fad838.png"},358:function(t,e,n){t.exports=n.p+"img/week3.73b0e3c.png"},359:function(t,e,n){t.exports=n.p+"img/week4.71c10bb.png"},360:function(t,e,n){var content=n(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("467195b1",content,!0,{sourceMap:!1})},361:function(t,e,n){"use strict";n(360)},362:function(t,e,n){var r=n(45)(!1);r.push([t.i,'.avatar[data-v-1d8020f4]{font-family:"Lato",sans-serif;width:128px;height:128px;display:block;position:relative;transition:border .15s ease-in}.avatar .edit-avatar[data-v-1d8020f4]{background:var(--bs-white);width:40px;height:40px;border-radius:50%;right:0;display:flex;align-items:center;justify-content:center;text-decoration:none;cursor:pointer}.avatar .edit-avatar[data-v-1d8020f4]:hover{background:var(--bs-gray-200)}.avatar img[data-v-1d8020f4]{-o-object-fit:cover;object-fit:cover;border-radius:50%}.list-group-item[data-v-1d8020f4]{background-color:transparent;border:0}.list-group-item.nuxt-link-exact-active[data-v-1d8020f4],.list-group-item[data-v-1d8020f4]:hover{color:var(--bs-dark);background-color:var(--bs-gray-300)}.bg-gray-200[data-v-1d8020f4]{background-color:var(--bs-gray-200)}',""]),t.exports=r},363:function(t,e,n){var content=n(370);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("f73e7bbe",content,!0,{sourceMap:!1})},365:function(t,e,n){"use strict";n.r(e);n(23),n(74),n(20);var r=n(10),o=(n(54),n(118),n(72),{name:"Sidebar",props:{info:{default:function(){return{}},type:Object}},data:function(){return{defaultImg:"",imageSrc:"",user:{avatar:"",individual_competition:{name:""}},msg:""}},computed:{defaultImage:function(){var t,e;return"個人組/前端工程師"===(null===(t=this.info.individual_competition)||void 0===t?void 0:t.name)?n(236):"個人組/UI設計師"===(null===(e=this.info.individual_competition)||void 0===e?void 0:e.name)?n(237):n(238)}},watch:{info:{handler:function(){this.user.avatar="",this.user.avatar=this.info.avatar},deep:!0}},methods:{editAvatar:function(){var t=this,e=document.querySelector("input[type=file]").files[0],n=new FileReader;n.onload=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var r,o,l,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=n.target.result.split(",")[1]).length<1048576)){e.next=24;break}return t.$nuxt.$loading.start(),e.prev=3,o=t.$api.request,e.next=7,o.apiPostEditAvatar({avatar:r});case 7:l=e.sent,data=l.data,t.user.avatar=data.avatar_url,t.msg={style:"success",icon:"fa-check-circle",content:"已更新成功！頭貼將於四小時內至一日內更新"},t.$emit("alert",t.msg),setTimeout((function(){window.location.reload()}),2e3),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),t.msg={style:"danger",icon:"fa-exclamation-triangle",content:e.t0.response.data.message||"更新失敗！"},t.$emit("alert",t.msg);case 19:return e.prev=19,t.$nuxt.$loading.finish(),e.finish(19);case 22:e.next=25;break;case 24:alert("圖片大小超過限制，圖片限制為 1 MB。");case 25:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),n.onerror=function(t){alert(t)},n.readAsDataURL(e)}}}),l=o,c=(n(361),n(29)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-4 mb-5 mb-md-0 text-white"},[e("div",{staticClass:"border py-6 px-6"},[e("div",{staticClass:"avatar mb-2 mx-auto"},[t._m(0),t._v(" "),e("input",{staticStyle:{visibility:"hidden",height:"0px",display:"block"},attrs:{id:"edit-avatar",type:"file",accept:".png,.jpg,.jpeg"},on:{change:t.editAvatar}}),t._v(" "),e("img",{staticClass:"w-100 h-100 d-block",attrs:{src:t.user.avatar||t.defaultImage,alt:"個人頭貼"}})]),t._v(" "),e("div",{staticClass:"text-center"},[e("small",{staticClass:"text-danger"},[t._v("圖片限制檔案大小為 1 MB")]),t._v(" "),e("p",{staticClass:"fw-bold mb-1"},[t._v(t._s(t.info.nickname||"姓名"))]),t._v(" "),e("p",{staticClass:"mb-2"},[t._v(t._s(t.info.email||"信箱"))]),t._v(" "),e("p",{staticClass:"d-inline-block bg-white text-dark py-1 px-3 mb-2"},[t.info.individual_competition?[t._v("\n          "+t._s(t.info.individual_competition.name.replace("/","｜"))+"\n        ")]:t.info.team_competition?[t._v("\n          "+t._s(t.info.team_competition.name.replace("/","｜"))+"\n        ")]:[t._v("組別")]],2),t._v(" "),t.info.medal_name?e("p",[e("img",{staticClass:"pe-1",attrs:{src:t.info.medal_image_url,alt:"徽章"}}),t._v("\n        "+t._s(t.info.medal_name)+"\n      ")]):t._e(),t._v(" "),e("hr")]),t._v(" "),e("div",{staticClass:"list-group mb-5 mt-5 bg-white p-4 rounded-0"},[e("nuxt-link",{staticClass:"list-group-item list-group-item-action p-4",attrs:{to:"/users/prepare"}},[e("i",{staticClass:"fas fa-grin"}),t._v(" 賽前準備")]),t._v(" "),e("nuxt-link",{staticClass:"list-group-item list-group-item-action p-4",attrs:{to:"/users"}},[e("i",{staticClass:"fas fa-edit"}),t._v(" 編輯個人資料")]),t._v(" "),e("nuxt-link",{staticClass:"list-group-item list-group-item-action p-4",attrs:{to:"/users/record"}},[e("i",{staticClass:"fas fa-file-alt"}),t._v(" 投稿紀錄\n      ")])],1),t._v(" "),e("div",{staticClass:"d-grid"},[e("nuxt-link",{staticClass:"btn btn-primary",class:{disabled:!t.info.user_id},attrs:{to:"/users/"+t.info.user_id,target:"_blank"}},[t._v("查看個人公開頁面")])],1)])])}),[function(){var t=this._self._c;return t("label",{staticClass:"edit-avatar position-absolute",attrs:{for:"edit-avatar"}},[t("i",{staticClass:"fas fa-pencil-alt text-dark"})])}],!1,null,"1d8020f4",null);e.default=component.exports},369:function(t,e,n){"use strict";n(363)},370:function(t,e,n){var r=n(45)(!1);r.push([t.i,".scrollBar[data-v-6c812d12]::-webkit-scrollbar{display:none}.overlay[data-v-6c812d12]{background:linear-gradient(180deg,transparent 49.31%,#000 93.06%);background-size:100%;background-position-y:bottom;background-repeat:no-repeat;height:185px}",""]),t.exports=r},373:function(t,e,n){"use strict";n.r(e);n(20),n(235),n(56),n(41),n(72);var r={name:"Card",props:{type:{type:String,default:""},worksList:{type:Array,default:function(){return[]}},userType:{type:Number,default:0},colNum:{type:Number,default:4}},data:function(){return{authStatus:!1}},created:function(){this.$cookies.get("t_sInR5cCI6IkpXVCJ_token")&&(this.authStatus=!0)},mounted:function(){var t=this;[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(t){return new bootstrap.Popover(t)})),"index"===this.type&&this.worksList.length>0&&setTimeout((function(){var element=document.querySelector("#gtm-work-view div");element&&(element.classList.contains("work-view-kdan")?t.$gtag("event","work-view-kdan"):element.classList.contains("work-view-titan")?t.$gtag("event","work-view-titan"):element.classList.contains("work-view-block-studio")&&t.$gtag("event","work-view-block-studio"))}),4e3)},methods:{renderName:function(t){return 1===t?"UI Design":2===t?"Frontend":3===t?"Team-UI":4===t?"Team-Frontend":"發生系統錯誤"},popperName:function(t){return 1===t?"UI 設計":2===t?"前端工程":3===t?"團體組 UI 設計":4===t?"團體組前端工程":"發生系統錯誤"},defaultImg:function(t){return 1===t?n(356):2===t?n(357):3===t?n(358):4===t?n(359):void 0},defaultAvaterImg:function(t){return n(1===t?237:2===t?236:238)},onlineName:function(t){return 1===t||3===t?"線上標示文件":2===t||4===t?"線上觀看連結":"發生系統錯誤"}}},o=(n(369),n(29)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},["index"===t.type?e("div",{staticClass:"work-view col-lg-4 col-md-6 mb-4",attrs:{id:"gtm-work-view"}}):t._e(),t._v(" "),t._l(t.worksList,(function(n){return e("div",{key:n.id,class:"col-lg-".concat(t.colNum," col-md-6 mb-4")},[e("div",{staticClass:"card h-100 py-3"},[e("div",{staticClass:"card-body d-flex flex-column"},[e("div",[e("nuxt-link",{staticClass:"h-100",attrs:{to:"/users/".concat(n.user_id),target:"_blank"}},[e("div",{staticClass:"position-relative"},[t._l(n.images,(function(n,r){return[n.is_cover?e("img",{key:"img".concat(r),staticClass:"img-fluid",attrs:{src:n.image_url,alt:"設計稿圖片"}}):t._e()]})),t._v(" "),n.images.length?t._e():e("img",{staticClass:"img-fluid",attrs:{src:t.defaultImg(n.stage_id),alt:"設計稿圖片"}}),t._v(" "),e("div",{staticClass:"overlay w-100 position-absolute bottom-0"},[t.authStatus?e("div",{staticClass:"d-flex align-items-center position-absolute bottom-0 end-0 pe-3 mb-2"},[e("span",{staticClass:"text-white text-decoration-none me-2 d-flex align-items-center"},[e("p",{staticClass:"text-white pe-1 mb-0"},[t._v(t._s(n.upvotes))]),t._v(" "),e("i",{staticClass:"fa-heart me-1 link-white fs-5",class:n.is_upvotes?"fas":"far"})]),t._v(" "),1===n.works_types_id&&2===t.userType?[e("span",{staticClass:"link-white text-decoration-none d-flex align-items-center"},[e("p",{staticClass:"text-white pe-1 mb-0"},[t._v(t._s(n.uses||0))]),t._v(" "),e("i",{staticClass:"far fa-bookmark link-white fs-5",class:n.is_use?"fas":"far"})])]:t._e()],2):t._e()])],2)]),t._v(" "),e("div",{staticClass:"d-flex"},[e("p",{staticClass:"border-start border-3 ps-1 mb-0",class:{"border-warning":1===n.works_types_id,"border-info":2===n.works_types_id,"border-primary":3===n.works_types_id||4===n.works_types_id}},[t._v("\n              Week"+t._s(n.stage_id)+"\n            ")]),t._v(" "),e("p",{staticClass:"ps-2 mb-0",class:{"text-warning":1===n.works_types_id,"text-info":2===n.works_types_id,"text-primary":3===n.works_types_id||4===n.works_types_id}},[t._v("\n              "+t._s(t.popperName(n.works_types_id))+"\n            ")])]),t._v(" "),e("nuxt-link",{staticClass:"d-flex align-items-center mb-2 link-white text-decoration-none",attrs:{to:"/users/".concat(n.user_id),target:"_blank"}},[1!==n.works_types_id||2!==n.works_types_id?e("p",{staticClass:"mb-0 text-truncate"},[t._v("\n              "+t._s(n.nickname)+"\n            ")]):e("p",{staticClass:"mb-0 mx-3"},[t._v(t._s(n.nickname))])])],1),t._v(" "),e("div",{staticClass:"d-flex flex-column",class:{"mt-auto":n.tags.length,"h-100":!n.tags.length}},[e("div",{class:{"mb-auto":!n.tags.length}},[e("div",{staticClass:"mb-2 pb-2 d-flex overflow-auto scrollBar",class:{"border-bottom":n.tags.length}},t._l(n.tags,(function(n){return e("div",{key:"tag".concat(n.id),staticClass:"me-1",attrs:{href:"#"}},[e("span",{staticClass:"badge rounded-pill bg-light text-dark"},[t._v(t._s(n.name))])])})),0)]),t._v(" "),e("div",[e("a",{staticClass:"btn btn-white",class:n.online_url?"":"disabled",attrs:{href:n.online_url,target:"_blank"}},[t._v(t._s(t.onlineName(n.works_types_id))),e("i",{staticClass:"fas fa-external-link-alt ps-2"})]),t._v(" "),e("a",{staticClass:"btn btn-white",class:n.file_url?"":"disabled btn-muted",attrs:{href:n.file_url,target:"_blank"}},[t._v("原始檔"),e("i",{staticClass:"fas fa-external-link-alt ps-2"})])])])])])])}))],2)}),[],!1,null,"6c812d12",null);e.default=component.exports},579:function(t,e,n){"use strict";n.r(e);var r=n(10),o=(n(54),n(365)),l=n(373),c=n(355),d={name:"UserLikes",components:{Sidebar:o.default,Card:l.default,Alert:c.default},middleware:"routerAuth",meta:{requiresAuth:!0,close:!0},data:function(){return{user:{},worksList:[],msg:{},pagination:{total_works:0,total_page:0}}},mounted:function(){var t=this;this.$nextTick((function(){t.getUsersInfo(),t.getWorksList()}))},methods:{getUsersInfo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$api.request,e.next=4,n.apiGetUsersInfo();case 4:r=e.sent,data=r.data,t.user=data.user_info,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.msg={style:"danger",icon:"fa-exclamation-triangle",content:e.t0.response.data.message||"更新失敗！"};case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getWorksList:function(){var t=arguments,e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:1,n.prev=1,o=e.$api.request,n.next=5,o.apiGetWorksUpvotesList(r);case 5:l=n.sent,data=l.data,e.worksList=data.works_list,e.pagination=data.pagination,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),e.msg={style:"danger",icon:"fa-exclamation-triangle",content:n.t0.response.data.message||"更新失敗！"};case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},isUpvotes:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.id,o=t.status,l="post",o&&(l="delete"),n.prev=3,c=e.$api.request,n.next=7,c.apiIsUpvotes(l,r);case 7:e.getWorksList(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),e.msg={style:"danger",icon:"fa-exclamation-triangle",content:n.t0.response.data.message||"更新失敗！"};case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()}}},v=d,f=n(29),component=Object(f.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container py-5 text-white"},[e("div",{staticClass:"row justify-content-center my-md-7"},[e("Sidebar",{attrs:{info:t.user},on:{edit:t.getUsersInfo}}),t._v(" "),e("div",{staticClass:"col-md-6"},[e("Alert",{attrs:{message:t.msg}}),t._v(" "),t.worksList.length?[e("h1",{staticClass:"fs-4 text-white mb-5"},[t._v("喜歡的投稿")]),t._v(" "),t.worksList.length?e("Card",{attrs:{"works-list":t.worksList,"col-num":6},on:{isUpvotes:t.isUpvotes}}):t._e()]:[e("p",[t._v("目前沒有投稿")])],t._v(" "),e("div",{staticClass:"d-flex justify-content-center"},[e("Paginate",{attrs:{"page-count":t.pagination.total_page,"click-handler":t.getWorksList,"prev-text":"&laquo;","next-text":"&raquo;","container-class":"pagination","page-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link"}})],1)],2)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:n(355).default})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{401:function(t,e,r){"use strict";r.r(e);r(9),r(41),r(35),r(20),r(47),r(56),r(73),r(75),r(36),r(55);var n=r(10),o=(r(54),r(235),r(91)),l=r(364),d=r(355),c={name:"CreateTeamFrontend",components:{ValidationObserver:o.a,ValidationProvider:o.b,Alert:d.default},mixins:[l.a],props:{nowRole:{default:"",type:String},roleId:{default:3,type:Number},editStatus:{default:!1,type:Boolean}},data:function(){return{works_list:[]}},computed:{filterWorks:function(){var t=this;return this.works_list.filter((function(e){return e.stage_id===t.worksSubmit.stage_id}))},defaultImg:function(){return 1===this.worksSubmit.stage_id?r(356):2===this.worksSubmit.stage_id?r(357):3===this.worksSubmit.stage_id?r(358):4===this.worksSubmit.stage_id?r(359):r(356)}},created:function(){this.getUsesData()},methods:{getUsesData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$api.request,e.next=4,r.apiGetUsesData();case 4:n=e.sent,data=n.data,t.works_list=data.works_list,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},m=r(29),component=Object(m.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-white py-5"},[e("Alert",{attrs:{message:t.msg}}),t._v(" "),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(r){var n=r.invalid;return[e("form",{staticClass:"row justify-content-center py-md-7",on:{submit:function(e){return e.preventDefault(),t.submitWork(t.editStatus)}}},[e("div",{staticClass:"col-md-4 order-md-0 order-1"},[e("h1",{staticClass:"fs-4 mb-4"},[t._v("投稿關卡 - "+t._s(t.nowRole))]),t._v(" "),e("ValidationProvider",{attrs:{rules:"excluded: 0"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"weekLevel"}},[t._v("投稿關卡*")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.stage_id,expression:"worksSubmit.stage_id"}],staticClass:"form-select mb-2",class:{"is-invalid":n[0]},attrs:{id:"weekLevel",name:"投稿關卡","aria-label":"投稿關卡下拉選單",disabled:t.editStatus||t.teamstageList.frontend.every((function(t){return t.status}))},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.worksSubmit,"stage_id",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:0}},[t._v("請選擇要投稿的關卡")]),t._v(" "),t._l(t.teamstageList.frontend,(function(r){return[!r.status||t.editStatus?e("option",{key:"stage".concat(r.id),domProps:{value:r.id}},[t._v("\n                  "+t._s(r.name)+"\n                ")]):t._e()]}))],2),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))]),t._v(" "),e("p",[!t.editStatus&&t.postStatus?e("small",{staticClass:"text-danger"},[t._v("已超過投稿時間，此關卡為挑戰失敗")]):t._e()])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label d-block",attrs:{for:"skills"}},[t._v("使用技術")]),t._v(" "),t._l(t.worksTypes.tags,(function(r){return e("label",{key:r.id,staticClass:"btn btn-sm px-0",attrs:{name:r.name}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.tag_ids,expression:"worksSubmit.tag_ids"}],staticClass:"d-none",attrs:{id:"tag",type:"checkbox",name:"使用技術"},domProps:{value:r.id,checked:Array.isArray(t.worksSubmit.tag_ids)?t._i(t.worksSubmit.tag_ids,r.id)>-1:t.worksSubmit.tag_ids},on:{change:function(e){var n=t.worksSubmit.tag_ids,o=e.target,l=!!o.checked;if(Array.isArray(n)){var d=r.id,c=t._i(n,d);o.checked?c<0&&t.$set(t.worksSubmit,"tag_ids",n.concat([d])):c>-1&&t.$set(t.worksSubmit,"tag_ids",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.worksSubmit,"tag_ids",l)}}}),t._v(" "),e("span",{staticClass:"badge border-transparent rounded-pill text-dark mb-1",class:{"bg-light":!t.worksSubmit.tag_ids.includes(r.id),"bg-primary":t.worksSubmit.tag_ids.includes(r.id)}},[t._v(t._s(r.name)+"\n            ")])])}))],2),t._v(" "),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"page_link"}},[t._v("線上觀看連結*")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.online_url,expression:"worksSubmit.online_url"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"page_link",name:"線上觀看連結",type:"text",placeholder:"https://codepen.io/..."},domProps:{value:t.worksSubmit.online_url},on:{input:function(e){e.target.composing||t.$set(t.worksSubmit,"online_url",e.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"repo_link"}},[t._v("原始檔位置")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.file_url,expression:"worksSubmit.file_url"}],staticClass:"form-control",attrs:{id:"repo_link",type:"text",placeholder:"https://drive.google.com/..."},domProps:{value:t.worksSubmit.file_url},on:{input:function(e){e.target.composing||t.$set(t.worksSubmit,"file_url",e.target.value)}}})]),t._v(" "),e("ValidationProvider",{attrs:{rules:"required|max:150"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"description"}},[t._v("作品描述（限制 150 字）*")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.description,expression:"worksSubmit.description"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"description",name:"作品描述",rows:"3"},domProps:{value:t.worksSubmit.description},on:{input:function(e){e.target.composing||t.$set(t.worksSubmit,"description",e.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{rules:"excluded: 0"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"mb-5"},[e("label",{staticClass:"form-label",attrs:{for:"cc"}},[t._v("\n              創用 CC*("),e("a",{attrs:{href:"http://creativecommons.tw/explore",target:"_blank"}},[t._v("版權說明")]),t._v(")\n            ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.creative_commons_id,expression:"worksSubmit.creative_commons_id"}],staticClass:"form-select",class:{"is-invalid":n[0]},attrs:{id:"cc",name:"創用 CC","aria-label":"創用 CC 下拉選單"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.worksSubmit,"creative_commons_id",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:0}},[t._v("請選擇版權")]),t._v(" "),t._l(t.worksData.creative_commons,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v("\n                "+t._s(r.name)+"\n              ")])}))],2),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"d-grid"},[e("button",{staticClass:"btn text-white fs-4 py-4 btn-bg font-cubic",attrs:{type:"submit",disabled:n}},[t._v("\n            "+t._s(t.editStatus?"編輯投稿":"投稿")+"\n          ")])])],1),t._v(" "),e("div",{staticClass:"col-md-4 order-md-1 order-0"},[t._l(t.filterWorks,(function(r){return e("div",{key:r.id},[e("div",[t._l(r.images,(function(image){return e("div",{key:image.id,staticClass:"mb-4"},[image.is_cover?e("div",[e("img",{staticClass:"img-fluid",attrs:{src:image.image_url,alt:""}})]):t._e()])})),t._v(" "),e("p",[t._v("設計稿狀態"),e("small",{staticClass:"text-danger"})]),t._v(" "),e("p",[t._v("\n              已提交設計稿"),e("span",{staticClass:"link-dark"},[t._v(t._s(r.team_name))])])],2)])})),t._v(" "),t.filterWorks.length?t._e():e("div",[e("div",{staticClass:"mb-4"},[e("img",{staticClass:"img-fluid",attrs:{src:t.defaultImg,alt:""}})]),t._v(" "),e("p",[t._v("設計稿狀態"),e("small",{staticClass:"text-danger"})]),t._v(" "),e("p",{staticClass:"text-muted"},[t._v("尚未提交 UI 設計稿")])])],2)])]}}])})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:r(355).default})},586:function(t,e,r){"use strict";r.r(e);var n=r(480),o=r(401),l={components:{CreateTeamUI:n.default,CreateTeamFrontend:o.default},middleware:"routerAuth",meta:{requiresAuth:!0,close:!0},data:function(){return{status:{}}},mounted:function(){this.status=this.$localStorage.get("team"),this.status.id||this.$router.push("/works/team")}},d=r(29),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[3===t.status.id?e("CreateTeamUI",{attrs:{"now-role":"團體組 UI","role-id":3,"edit-status":!1}}):t._e(),t._v(" "),4===t.status.id?e("CreateTeamFrontend",{attrs:{"now-role":"團體組前端","role-id":4,"edit-status":!1}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[31,6],{355:function(t,e,r){"use strict";r.r(e);r(72);var n={name:"Alert",props:{message:{default:function(){return{}},type:Object}},data:function(){return{messages:[]}},watch:{message:function(){this.message.content&&this.addAlert()}},methods:{addAlert:function(){var t=this.message,style=t.style,e=t.icon,content=t.content;this.messages.push({style:style,icon:e,content:content}),this.removeAlert()},removeAlert:function(){var t=this;setTimeout((function(){t.messages.shift()}),6e3)}}},o=r(29),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",t._l(t.messages,(function(r,n){return e("div",{key:n,staticClass:"alert mb-6",class:"alert-".concat(r.style),attrs:{role:"alert"}},[e("p",{staticClass:"mb-0"},[e("i",{staticClass:"pe-1 fas",class:r.icon}),t._v(t._s(r.content))])])})),0)}),[],!1,null,null,null);e.default=component.exports},569:function(t,e,r){"use strict";r.r(e);var n=r(10),o=(r(54),r(91)),l=r(355),c={name:"PasswordReset",components:{ValidationObserver:o.a,ValidationProvider:o.b,Alert:l.default},data:function(){return{user:{account:"",password:"",confirm_password:""},msg:{}}},methods:{resetPassword:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.$route.query.token,t.user.account=t.$route.query.email,!r){e.next=14;break}return e.prev=3,n=t.$api.request,e.next=7,n.apiPostResetPassword(r,t.user);case 7:t.$router.push("/login"),t.msg={style:"success",icon:"fa-check-circle",content:"已更新成功！"},e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.msg={style:"danger",icon:"fa-exclamation-triangle",content:e.t0.response.data.message||"更新失敗！"};case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}},d=r(29),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-white d-flex align-items-center"},[e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-lg-8 col-10"},[e("Alert",{attrs:{message:t.msg}})],1)]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6 d-flex flex-column justify-content-center",staticStyle:{height:"calc(78vh)"}},[e("h1",{staticClass:"fs-2 mb-5"},[t._v("重設密碼")]),t._v(" "),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(r){var n=r.invalid;return[e("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassword.apply(null,arguments)}}},[e("ValidationProvider",{attrs:{rules:"password",vid:"confirm_password"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("新密碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"password",name:"密碼",type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])])]}}],null,!0)}),t._v(" "),e("ValidationProvider",{attrs:{rules:"required|confirmed:confirm_password"},scopedSlots:t._u([{key:"default",fn:function(r){var n=r.errors;return[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"confirm_password"}},[t._v("確認密碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirm_password,expression:"user.confirm_password"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"confirm_password",name:"確認密碼",type:"password"},domProps:{value:t.user.confirm_password},on:{input:function(e){e.target.composing||t.$set(t.user,"confirm_password",e.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"d-grid mt-8"},[e("button",{staticClass:"btn text-white fs-4 py-4 btn-bg font-cubic",attrs:{type:"submit",disabled:n}},[t._v("\n                確認送出\n              ")])])],1)]}}])})],1)])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:r(355).default})}}]);